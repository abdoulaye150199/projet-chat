<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/whatsapp-icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WhatsApp</title>
    
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              'fade-in': 'fadeIn 0.5s ease-out',
              'slide-in': 'slideIn 0.3s ease-out',
              'glow': 'glow 2s infinite',
              'float': 'float 3s ease-in-out infinite',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' }
              },
              slideIn: {
                '0%': { transform: 'translateX(-20px)', opacity: '0' },
                '100%': { transform: 'translateX(0)', opacity: '1' }
              },
              glow: {
                '0%, 100%': { boxShadow: '0 0 15px rgba(0, 168, 132, 0.3)' },
                '50%': { boxShadow: '0 0 25px rgba(0, 168, 132, 0.6)' }
              },
              float: {
                '0%, 100%': { transform: 'translateY(0px)' },
                '50%': { transform: 'translateY(-10px)' }
              }
            }
          }
        }
      }
    </script>
  </head>
  <body class="bg-gradient-to-br from-[#111b21] via-[#0f1419] to-[#1a252b] text-gray-200 overflow-hidden">
    <div id="app" class="h-screen flex shadow-2xl">
      <!-- Side Navigation avec effets améliorés -->
      <div id="side-nav" class="w-[70px] bg-gradient-to-b from-[#202c33] via-[#1e2a31] to-[#1a252b] flex flex-col items-center py-4 border-r border-gray-600 shadow-xl backdrop-blur-sm">
        <div class="relative mb-8 animate-fade-in">
          <button id="chats-btn" class="w-12 h-12 bg-gradient-to-r from-[#00a884] to-[#00916a] rounded-full flex items-center justify-center text-white hover:from-[#00916a] hover:to-[#007a5a] transition-all duration-300 transform hover:scale-110 hover:rotate-3 shadow-lg hover:shadow-xl animate-glow">
            <div class="w-6 h-6"></div>
          </button>
          <div class="absolute -top-1 -right-1 bg-gradient-to-r from-[#ff4757] to-[#ff3742] text-white text-xs rounded-full w-6 h-6 flex items-center justify-center font-bold shadow-lg animate-pulse">
            37
          </div>
        </div>

        <div class="relative mb-8 animate-fade-in" style="animation-delay: 0.1s">
          <button id="status-btn" class="w-12 h-12 rounded-full bg-gradient-to-br from-[#2a3942] to-[#374045] flex items-center justify-center text-gray-400 hover:text-white hover:from-[#374045] hover:to-[#404a52] transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg">
            <div class="w-6 h-6"></div>
          </button>
          <div class="absolute bottom-0 right-0 w-3 h-3 bg-gradient-to-r from-green-400 to-green-500 rounded-full border-2 border-[#202c33] shadow-sm animate-pulse"></div>
        </div>

        <div class="mb-8 animate-fade-in" style="animation-delay: 0.2s">
          <button id="channels-btn" class="w-12 h-12 rounded-full bg-gradient-to-br from-[#2a3942] to-[#374045] flex items-center justify-center text-gray-400 hover:text-white hover:from-[#374045] hover:to-[#404a52] transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg">
            <div class="w-6 h-6"></div>
          </button>
        </div>

        <div class="relative mb-8 animate-fade-in" style="animation-delay: 0.3s">
          <button id="communities-btn" class="w-12 h-12 rounded-full bg-gradient-to-br from-[#2a3942] to-[#374045] flex items-center justify-center text-gray-400 hover:text-white hover:from-[#374045] hover:to-[#404a52] transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg">
            <div class="w-6 h-6"></div>
          </button>
          <div class="absolute bottom-0 right-0 w-3 h-3 bg-gradient-to-r from-green-400 to-green-500 rounded-full border-2 border-[#202c33] shadow-sm animate-pulse"></div>
        </div>
        
        <div class="flex-1"></div>

        <div class="mb-4 animate-fade-in" style="animation-delay: 0.4s">
          <button id="settings-btn" class="w-12 h-12 rounded-full bg-gradient-to-br from-[#2a3942] to-[#374045] flex items-center justify-center text-gray-400 hover:text-white hover:from-[#374045] hover:to-[#404a52] transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg">
            <div class="w-6 h-6"></div>
          </button>
        </div>

        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 overflow-hidden cursor-pointer transform hover:scale-110 transition-all duration-300 shadow-lg hover:shadow-xl ring-2 ring-transparent hover:ring-[#00a884] animate-fade-in" style="animation-delay: 0.5s">
          <img 
            id="current-user-avatar" 
            src="./src/assets/images/profile.jpeg" 
            alt="Profile" 
            class="w-full h-full object-cover hover:scale-110 transition-transform duration-300" 
            onerror="this.src = generateInitialsAvatarUrl('U')"
          />
        </div>
      </div>

      <!-- Chat List Container avec glassmorphism -->
      <div id="chat-list-container" class="w-[380px] border-r border-gray-600 flex flex-col backdrop-blur-sm bg-gradient-to-b from-[#111b21]/90 to-[#0f1419]/90 shadow-xl">
        <div id="chat-list-header" class="p-2 bg-gradient-to-r from-[#202c33]/80 to-[#1e2a31]/80 flex justify-between items-center backdrop-blur-md border-b border-gray-600/50 shadow-sm">
          <h1 class="text-xl font-medium px-4 py-3 text-white drop-shadow-sm">Discussions</h1>
          <div class="flex gap-5 pr-4">
            <button id="new-chat-btn" class="text-gray-400 hover:text-white transition-all duration-200 p-2 rounded-full hover:bg-white/10 transform hover:scale-110">
              <div class="w-5 h-5"></div>
            </button>
            <button id="menu-btn" class="text-gray-400 hover:text-white transition-all duration-200 p-2 rounded-full hover:bg-white/10 transform hover:scale-110">
              <div class="w-5 h-5"></div>
            </button>
          </div>
        </div>
        
        <div id="search-container" class="p-2 bg-gradient-to-r from-[#111b21] to-[#0f1419]">
          <div class="flex items-center bg-gradient-to-r from-[#202c33] to-[#1e2a31] rounded-xl px-3 py-1 shadow-inner border border-gray-600/30 hover:border-[#00a884]/30 transition-all duration-300">
            <span class="text-gray-400 mr-3">
              <div class="w-5 h-5"></div>
            </span>
            <input
              type="text"
              id="search-input"
              placeholder="Rechercher ou démarrer une discussion"
              class="bg-transparent border-none outline-none text-white w-full py-2 placeholder-gray-500"
            />
          </div>
        </div>
        
        <div id="chat-list" class="flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-[#00a884]/50 scrollbar-track-transparent hover:scrollbar-thumb-[#00a884]/80"></div>
      </div>

      <!-- Chat Content avec effets dynamiques -->
      <div id="chat-content" class="flex-1 flex flex-col bg-gradient-to-br from-[#0b141a] to-[#111b21] min-w-0">
        <div id="chat-header" class="p-2 bg-gradient-to-r from-[#202c33]/90 to-[#1e2a31]/90 flex justify-between items-center hidden backdrop-blur-md border-b border-gray-600/50 shadow-lg">
          <div class="flex items-center gap-3 px-4">
            <img id="active-chat-avatar" src="" alt="" class="w-10 h-10 rounded-full ring-2 ring-[#00a884]/30 hover:ring-[#00a884]/60 transition-all duration-300">
            <div>
              <h2 id="active-chat-name" class="text-white font-medium drop-shadow-sm"></h2>
              <p id="active-chat-status" class="text-sm text-gray-400"></p>
            </div>
          </div>
          <div class="chat-header-right flex items-center gap-4 px-4">
            <button id="search-chat-btn" class="p-2 hover:bg-[#374045]/50 rounded-full transition-all duration-200 transform hover:scale-110">
              <div class="w-5 h-5 text-[#aebac1]"></div>
            </button>
            <button id="chat-options-btn" class="p-2 hover:bg-[#374045]/50 rounded-full transition-all duration-200 transform hover:scale-110">
              <div class="w-5 h-5 text-[#aebac1]"></div>
            </button>
          </div>
        </div>

        <!-- Messages Container - Version corrigée -->
        <div id="messages-container" 
             class="flex-1 overflow-y-auto p-5 bg-transparent hidden scrollbar-thin scrollbar-thumb-[#00a884]/30 scrollbar-track-transparent">
          <div id="messages-list" class="max-w-3xl mx-auto"></div>
        </div>

        <!-- Welcome Screen -->
        <div id="welcome-screen" class="flex-1 flex flex-col items-center justify-center bg-gradient-to-br from-[#222e35] via-[#1e2a31] to-[#1a252b] relative overflow-hidden">
          <!-- Effets de fond subtils -->
          <div class="absolute inset-0 opacity-3">
            <div class="absolute bottom-20 right-20 w-24 h-24 bg-[#00916a] rounded-full blur-2xl animate-pulse"></div>
          </div>

          <!-- Logo WhatsApp -->
          <div class="w-80 h-80 rounded-full bg-gradient-to-br from-[#3b4a54] via-[#2d3940] to-[#1f2d35] flex items-center justify-center mb-10 shadow-2xl">
            <div class="w-64 h-64 rounded-full bg-gradient-to-br from-[#475e6b] to-[#3b4a54] flex items-center justify-center shadow-inner">
              <img src="./src/assets/images/whatsapp-logo.png" alt="WhatsApp" class="w-40 h-40 object-contain opacity-20">
            </div>
          </div>

          <!-- Titre -->
          <h1 class="text-4xl text-white font-light mb-8 animate-fade-in text-center">
            WhatsApp pour Windows
          </h1>

          <!-- Description -->
          <p class="text-[#8696a0] text-center max-w-lg text-base leading-relaxed mb-12 animate-fade-in opacity-90 px-8">
            Envoyez et recevez des messages sans avoir à garder votre téléphone connecté.
            <br><br>
            Utilisez WhatsApp sur un maximum de 4 appareils et 1 téléphone, simultanément.
          </p>

          <!-- Indicateur de chiffrement -->
          <div class="flex items-center gap-3 text-[#8696a0] bg-[#182229] px-5 py-3 rounded-lg shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4 text-[#8696a0]">
              <path fill="currentColor" d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12c5.16-1.26 9-6.45 9-12V5l-9-4zm0 2.18l7 3.12v4.7c0 4.54-2.77 8.62-7 10.46c-4.23-1.84-7-5.92-7-10.46v-4.7l7-3.12z"/>
            </svg>
            <span class="text-sm">Chiffrée de bout en bout</span>
          </div>
        </div>

        <!-- Message Input avec effets -->
        <div id="message-input-container" class="p-3 bg-gradient-to-r from-[#202c33]/90 to-[#1e2a31]/90 flex items-center gap-4 hidden backdrop-blur-md border-t border-gray-600/50 shadow-lg">
          <button id="emoji-btn" class="text-gray-400 hover:text-white p-2 rounded-full hover:bg-white/10 transition-all duration-200 transform hover:scale-110">
            <div class="w-6 h-6"></div>
          </button>
          <button id="attach-btn" class="text-gray-400 hover:text-white p-2 rounded-full hover:bg-white/10 transition-all duration-200 transform hover:scale-110">
            <div class="w-6 h-6"></div>
          </button>
          <div class="flex-1">
            <input
              type="text"
              id="message-input"
              placeholder="Tapez un message"
              class="w-full bg-gradient-to-r from-[#2a3942] to-[#374045] text-white rounded-xl px-4 py-3 outline-none border border-gray-600/50 focus:border-[#00a884]/50 focus:ring-2 focus:ring-[#00a884]/20 transition-all duration-300 placeholder-gray-500"
            />
          </div>
          <button id="voice-btn" class="text-gray-400 hover:text-white p-2 rounded-full hover:bg-white/10 transition-all duration-200 transform hover:scale-110">
            <div class="w-6 h-6"></div>
          </button>
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>